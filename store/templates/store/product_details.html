{% extends "base.html" %}
{% block content %}
<div class="container my-4">
    <h1 class="mt-2">{{ product.name }}</h1>

    {% with photo=product.get_product_image %}
    {% if photo %}
    <img src="{{ photo.image.url }}" alt="{{ product.name }}" style="max-width:300px;">
    {% endif %}
    {% endwith %}

    {% if product.description %}
    <p class="mt-3">{{ product.description }}</p>
    {% endif %}

    <div class="mt-3" style="max-width:420px;">
        <label for="variant" class="form-label">Choose a variant</label>
        <select id="variant" class="form-select mb-3">
            {% for v in product.variants.all %}
            {% with qty=v.stock.quantity|default:0 %}
            <option value="{{ v.id }}">
                {{ v.size|default:"—" }} / {{ v.colour|default:"—" }} — £{{ v.price }} ({{ qty }} left)
            </option>
            {% endwith %}
            {% endfor %}
        </select>

        <button class="btn btn-primary" disabled>Add to Basket</button>
    </div>
</div>
{% endblock %}